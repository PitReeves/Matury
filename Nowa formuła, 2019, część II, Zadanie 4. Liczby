#include <iostream>
#include <fstream>
using namespace std;
bool potega(int liczba)
{
    int ile=0;
    if(liczba==1)
        return true;
    else if(liczba%3==0)
    {
        while(liczba>3&&liczba%3==0)
        {
            liczba=liczba/3;
        }
        if(liczba==3)
            return true;
        else
            return false;
    }
    else
        return false;
}
int silnia(int liczba)
{
    int silnia=1;
    for(int i=2; i<=liczba; i++)
        silnia=silnia*i;
    return silnia;
}
int suma_silni(int liczba)
{
    int cyfra,suma=0;
    while(liczba!=0)
    {
        cyfra=liczba%10;
        suma=suma+silnia(cyfra);
        liczba=liczba/10;
    }
    return suma;
}
int main()
{
    int liczba,ile=0;
    ifstream wczytaj("przyklad.txt");
    ofstream wypisz("wyniki4.txt");
    wypisz<<"Zadanie 4.2:"<<endl;
    for(int i=0; i<500; i++)
    {
        wczytaj>>liczba;
        if(potega(liczba)==true)
            ile++;
        if(suma_silni(liczba)==liczba)
            wypisz<<liczba<<endl;
    }
    wypisz<<"Zadanie 4.1:"<<endl<<ile<<endl;
    return 0;
}
